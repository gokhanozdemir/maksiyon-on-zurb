---

thepage:
 img: http://is4.mzstatic.com/image/thumb/Purple122/v4/7f/0c/bc/7f0cbc6d-3a30-a936-2687-c0edae4369ab/source/60x60bb.jpg
 title: Spotify Music
 info: Listen To & Stream Music for Free | Spotify Ltd. 
tinder: 
 img: https://is4-ssl.mzstatic.com/image/thumb/Purple122/v4/ab/59/6e/ab596ed3-f57d-0a26-a304-06f7d61daa2a/source/170x170bb.png
 title: Tinder
 info: Tinder Inc.

search:
 - img: https://insights.mobileaction.co/app-image?url=http%3A%2F%2Fis3.mzstatic.com%2Fimage%2Fthumb%2FPurple20%2Fv4%2F15%2F7e%2Fd9%2F157ed9d9-0082-8fed-bed0-6bed211292ca%2Fsource%2F60x60bb.jpg
   title: Musicloud
   info: Music Player For Cloud Platforms
   storetype: apple
   storename: Apple Appstore
 - img: https://insights.mobileaction.co/app-image?url=http%3A%2F%2Fis5.mzstatic.com%2Fimage%2Fthumb%2FPurple60%2Fv4%2F84%2F53%2F57%2F84535792-46ad-4acc-632e-03d5df575be2%2Fsource%2F60x60bb.jpg
   title: Music HD.ITube Player
   info: Free Music Video Player & Streamer for YouTube, SoundCloud
   storetype: android
   storename: Google Playstore
 - img: https://insights.mobileaction.co/app-image?url=http%3A%2F%2Fis2.mzstatic.com%2Fimage%2Fthumb%2FPurple49%2Fv4%2F01%2Fd6%2F6d%2F01d66d3f-96b3-ebec-0dd1-8db0ecee174f%2Fsource%2F60x60bb.jpg
   title: musical.ly - 
   info: Your video community
   storetype: apple
   storename: Apple Appstore

---
{{> l-header}}

<div class="row expanded">
  <div class="large-7 columns">
    <div class="callout">
      <canvas id="myChart" width="400px" height="200px"></canvas>
    </div>
  </div>
  <div class="large-1 columns">s</div>
  <div class="large-4 columns">
    <div class="callout">
     gfds d
    </div>
  </div>
</div>  
<script>
  var ctx = document.getElementById("myChart");
  var data = {
    labels: [],
    // labels: ["January", "February", "March", "April", "May", "June", "July"],
    datasets: []
  };
  

var keyData = {
    "status": "OK",
    "data": [
        {
            "appName": "Spotify Music",
            "history": [
                [
                    1488499200000,
                    4
                ],
                [
                    1488585600000,
                    4
                ],
                [
                    1488672000000,
                    3
                ],
                [
                    1488758400000,
                    3
                ],
                [
                    1488844800000,
                    3
                ],
                [
                    1488931200000,
                    3
                ],
                [
                    1489017600000,
                    3
                ],
                [
                    1489104000000,
                    3
                ],
                [
                    1489190400000,
                    4
                ],
                [
                    1489276800000,
                    4
                ],
                [
                    1489363200000,
                    4
                ],
                [
                    1489449600000,
                    4
                ],
                [
                    1489536000000,
                    4
                ],
                [
                    1489622400000,
                    4
                ]
            ],
            "value": "music"
        },
        {
            "appName": "Pandora - Music & Ra",
            "history": [
                [
                    1488499200000,
                    9
                ],
                [
                    1488585600000,
                    9
                ],
                [
                    1488672000000,
                    9
                ],
                [
                    1488758400000,
                    9
                ],
                [
                    1488844800000,
                    9
                ],
                [
                    1488931200000,
                    10
                ],
                [
                    1489017600000,
                    10
                ],
                [
                    1489104000000,
                    10
                ],
                [
                    1489190400000,
                    10
                ],
                [
                    1489276800000,
                    9
                ],
                [
                    1489363200000,
                    9
                ],
                [
                    1489449600000,
                    9
                ],
                [
                    1489536000000,
                    9
                ],
                [
                    1489622400000,
                    9
                ]
            ],
            "value": "music"
        },
        {
            "appName": "SoundCloud - Music &",
            "history": [
                [
                    1488499200000,
                    7
                ],
                [
                    1488585600000,
                    7
                ],
                [
                    1488672000000,
                    6
                ],
                [
                    1488758400000,
                    6
                ],
                [
                    1488844800000,
                    6
                ],
                [
                    1488931200000,
                    6
                ],
                [
                    1489017600000,
                    6
                ],
                [
                    1489104000000,
                    6
                ],
                [
                    1489190400000,
                    6
                ],
                [
                    1489276800000,
                    6
                ],
                [
                    1489363200000,
                    6
                ],
                [
                    1489449600000,
                    6
                ],
                [
                    1489536000000,
                    6
                ],
                [
                    1489622400000,
                    7
                ]
            ],
            "value": "music"
        }
    ]
}

// extract labels for X axis
for (m = 0; keyData.data[0]['history'].length > m; m++) {
  var ts = keyData.data[0]['history'][m][0];
  // thedate = new Date(Number(ts)).toDateString();
  thedate = new Date(Number(ts)).toDateString().slice(4,10);
  // thedate = new Date(Number(ts)).getDate() + '.' + (new Date(Number(ts)).getMonth() + 1);
  data.labels.push(thedate);
  // console.log(thedate);
}

function randomColor() {
  min = Math.ceil(0);
  max = Math.floor(255);
  return Math.floor(Math.random() * (max - min + 1)) + min;
}

// for each app
for (k = 0; keyData.data.length > k; k++){ 
  var yVals = [];

  // get labels
  var dataLabel = keyData.data[k]['appName'];
  // console.log(dataLabel); 
  
  // get yValues for related app
  for (n = 0; keyData.data[k]['history'].length > n; n++) {
    yVals.push(keyData.data[k]['history'][n][1]);
  }
  var thecolor = "rgba(" + randomColor() + "," + randomColor() + ", " + randomColor() + ", 1)";
  // console.log(thecolor);

  data.datasets.push({
    label: dataLabel, 
    data: yVals, 
    fill: false,
    lineTension: 0.1,
    backgroundColor: thecolor,
    borderColor: thecolor,
    borderCapStyle: 'butt',
    borderJoinStyle: 'miter',
    pointBorderColor: thecolor,
    pointBackgroundColor: thecolor,
    pointBorderWidth: 3,
    pointHoverRadius: 5,
    pointHoverBackgroundColor: thecolor,
    pointHoverBorderColor: "rgba(220,220,220,1)",
    pointHoverBorderWidth: 2,
    pointRadius: 2,
    pointHitRadius: 20,
    
  })

  // console.log('data.datasets', data.datasets);
}

var scatterChart = new Chart(ctx, {
    type: 'line',
    data: data,
    tooltips: {
      mode: 'x'
    },
    options: {
        legend: {
          position: 'bottom',
        },
        scales: {
            yAxes: [{
              ticks: {
                  reverse: true,
                  max: 12, // shame calculate this dynamically
                  min: 1,
              }
            }]
        }
    }
});

</script>